# RACI — Роли и ответственность

## Назначение

Зафиксировать роли, ответственность и контуры принятия решений по AnyGate в организации, использующей продукт под лицензией MIT. Документ устраняет «серые зоны» и задаёт, кто **делает (R)** и кто **несёт итоговую ответственность (A)**, а также кто **консультируется (C)** и кто **информируется (I)**.

## Область действия
Внутреннее использование в организациях, интеграция и эксплуатация AnyGate (включая возможный форк). Лицензия **MIT** — снимает ответственность с авторов за внешний мир, но **не отменяет** внутренние обязанности принимающей организации. В этом документе:
* «Upstream» — открытая община/репозиторий.
* «Downstream» — ваша организация (для которой прописан пример матрицы RACI).

## Легенда RACI

* **R** — Responsible: выполняет работу.
* **A** — Accountable: единолично отвечает за результат и принимает решение.
* **C** — Consulted: даёт экспертные рекомендации (двусторонняя связь).
* **I** — Informed: уведомляется (односторонняя связь).

## Роли (сокращения)

* **CPTO** — руководитель продукта и технологии (объединённая роль CPO/CTO).
* **CAC/ЦАК** — архитектурный комитет.
* **Platform Lead** — руководитель платформенной инженерии (runtime/build/packaging).
* **SRE Lead** — руководитель эксплуатации/надёжности.
* **Sec Lead** — руководитель безопасности.
* **QA Lead** — руководитель качества.
* **RelMgr** — Release Manager.
* **Docs Lead** — руководитель документации/DevRel.
* **Legal/Comp** — юридический/комплаенс.
* **POs** — владельцы продуктов, потребляющих AnyGate.
* **Upstream Maint** — сопровождающие открытого репозитория (внешние).

---

## Модель управления

* **Upstream (MIT):** не несёт операционной ответственности; может быть C/I по инициативе организации (issues, RFC).
* **Downstream (организация):** назначает A по всем зонам, включая безопасность, эксплуатацию, релизы и миграции.

---

## TL;DR

### Роли
* CP/TO (A стратегически)
* ЦАК (A архитектура)
* Platform Lead (A runtime/поставка)
* SRE Lead (A эксплуатация/инциденты)
* Sec Lead (A безопасность)
* RelMgr (A релизы)

### Темы
* DSL/совместимость: A=ЦАК, R=Platform, C=SRE/Sec
* TLS/mTLS профили: A=Sec, R=Platform, C=ЦАК/SRE
* Релиз и go-live: A=RelMgr, R=Platform, C=QA/SRE/Sec
* Инциденты P1: A=SRE, R=SRE/Platform, C=Sec/CPTO, I=POs
* Disclosure security: A=Sec, R=Sec/Platform, I=SRE/CPTO

## Полная RACI по зонам

### 1. Стратегия и дорожная карта

| Активность                      | CPTO  | CAC/ЦАК | Platform Lead | SRE Lead | Sec Lead | QA Lead | RelMgr | Docs Lead | Legal/Comp | POs | Upstream Maint |
| ------------------------------- | ----- | ------- | ------------- | -------- | -------- | ------- | ------ | --------- | ---------- | --- | -------------- |
| Визия и целевые сценарии        | **A** | C       | I             | I        | I        | I       | I      | I         | I          | C   | I              |
| Портфель фич/приоритизация      | **A** | C       | C             | I        | C        | C       | I      | I         | I          | C   | I              |
| Депрекейшены и поддерживаемость | **A** | C       | C             | C        | C        | C       | I      | I         | I          | I   | I              |

### 2. Архитектура ядра и DSL

| Активность                                 | CPTO | CAC/ЦАК | Platform Lead | SRE Lead | Sec Lead | QA Lead | RelMgr | Docs Lead | Legal/Comp | POs | Upstream Maint |
| ------------------------------------------ | ---- | ------- | ------------- | -------- | -------- | ------- | ------ | --------- | ---------- | --- | -------------- |
| Архитектурные принципы (hot-path, плагины) | I    | **A**   | R             | C        | C        | C       | I      | I         | I          | I   | C              |
| Эволюция DSL/совместимость                 | I    | **A**   | R             | C        | C        | C       | I      | C         | I          | C   | C              |
| Схема конфига и валидация                  | I    | **A**   | R             | C        | C        | C       | I      | C         | I          | I   | C              |

### 3. Runtime, производительность и упаковка

| Активность                           | CPTO | CAC/ЦАК | Platform Lead | SRE Lead | Sec Lead | QA Lead | RelMgr | Docs Lead | Legal/Comp | POs | Upstream Maint |
| ------------------------------------ | ---- | ------- | ------------- | -------- | -------- | ------- | ------ | --------- | ---------- | --- | -------------- |
| Реактор/планировщик/IO-фичи          | I    | C       | **A**         | C        | C        | C       | I      | I         | I          | I   | C              |
| Бенчи и SLO производительности       | I    | C       | **A**         | R        | C        | C       | I      | I         | I          | I   | I              |
| Контейнер/пакетирование/дистрибутивы | I    | C       | **A**         | C        | C        | I       | R      | I         | I          | I   | I              |

### 4. Безопасность и соответствие

| Активность                        | CPTO | CAC/ЦАК | Platform Lead | SRE Lead | Sec Lead | QA Lead | RelMgr | Docs Lead | Legal/Comp | POs | Upstream Maint |
| --------------------------------- | ---- | ------- | ------------- | -------- | -------- | ------- | ------ | --------- | ---------- | --- | -------------- |
| Политики TLS/mTLS, крипто-профили | I    | C       | C             | C        | **A**    | I       | I      | I         | C          | I   | I              |
| Supply chain, подписи, SBOM       | I    | C       | R             | I        | **A**    | I       | C      | I         | C          | I   | I              |
| Threat Model и контролы           | I    | C       | C             | C        | **A**    | C       | I      | I         | C          | I   | I              |
| Vuln mgmt и обновления            | I    | I       | R             | I        | **A**    | C       | C      | I         | C          | I   | I              |

### 5. Качество и тестирование

| Активность                           | CPTO | CAC/ЦАК | Platform Lead | SRE Lead | Sec Lead | QA Lead | RelMgr | Docs Lead | Legal/Comp | POs | Upstream Maint |
| ------------------------------------ | ---- | ------- | ------------- | -------- | -------- | ------- | ------ | --------- | ---------- | --- | -------------- |
| Unit/Property/Fuzz/Integration       | I    | C       | R             | C        | C        | **A**   | I      | I         | I          | I   | I              |
| Soak/Chaos/Надёжность                | I    | C       | C             | R        | C        | **A**   | I      | I         | I          | I   | I              |
| Политика дефектов и входные критерии | I    | C       | C             | C        | C        | **A**   | I      | I         | I          | I   | I              |

### 6. Эксплуатация и инциденты

| Активность                    | CPTO | CAC/ЦАК | Platform Lead | SRE Lead | Sec Lead | QA Lead | RelMgr | Docs Lead | Legal/Comp | POs | Upstream Maint |
| ----------------------------- | ---- | ------- | ------------- | -------- | -------- | ------- | ------ | --------- | ---------- | --- | -------------- |
| Runbook/Playbooks             | I    | C       | C             | **A**    | C        | C       | I      | R         | I          | I   | I              |
| Мониторинг/Алерты/Дашборды    | I    | C       | C             | **A**    | C        | C       | I      | R         | I          | I   | I              |
| IRP (инциденты) и постмортемы | I    | I       | C             | **A**    | R        | C       | I      | I         | I          | I   | I              |

### 7. Релизы и миграции

| Активность                          | CPTO | CAC/ЦАК | Platform Lead | SRE Lead | Sec Lead | QA Lead | RelMgr | Docs Lead | Legal/Comp | POs | Upstream Maint |
| ----------------------------------- | ---- | ------- | ------------- | -------- | -------- | ------- | ------ | --------- | ---------- | --- | -------------- |
| Release Process и go-live           | I    | C       | C             | C        | C        | C       | **A**  | I         | I          | I   | I              |
| Миграции с nginx/traefik/HAProxy    | I    | C       | R             | **A**    | C        | C       | C      | C         | I          | R   | I              |
| Депрекейшены/обратная совместимость | I    | **A**   | C             | C        | C        | C       | I      | C         | I          | C   | I              |

### 8. Документация и DevRel

| Активность                           | CPTO | CAC/ЦАК | Platform Lead | SRE Lead | Sec Lead | QA Lead | RelMgr | Docs Lead | Legal/Comp | POs | Upstream Maint |
| ------------------------------------ | ---- | ------- | ------------- | -------- | -------- | ------- | ------ | --------- | ---------- | --- | -------------- |
| Архитектурные/конфигурационные гайды | I    | C       | C             | C        | C        | C       | I      | **A**     | I          | C   | C              |
| Quickstart/Примеры/Шаблоны           | I    | I       | C             | C        | I        | C       | I      | **A**     | I          | C   | C              |
| Публичные анонсы/релиз-ноты          | I    | I       | I             | I        | I        | I       | R      | **A**     | C          | I   | I              |

### 9. Право и лицензирование

| Активность                       | CPTO | CAC/ЦАК | Platform Lead | SRE Lead | Sec Lead | QA Lead | RelMgr | Docs Lead | Legal/Comp | POs | Upstream Maint |
| -------------------------------- | ---- | ------- | ------------- | -------- | -------- | ------- | ------ | --------- | ---------- | --- | -------------- |
| Лицензии, NOTICE, совместимость  | I    | I       | C             | I        | I        | I       | I      | I         | **A**      | I   | I              |
| Политика вклада (CLA, авторские) | I    | I       | I             | I        | I        | I       | I      | I         | **A**      | I   | C              |

### 10. Сообщество и Upstream-взаимодействие

| Активность                   | CPTO | CAC/ЦАК | Platform Lead | SRE Lead | Sec Lead | QA Lead | RelMgr | Docs Lead | Legal/Comp | POs | Upstream Maint |
| ---------------------------- | ---- | ------- | ------------- | -------- | -------- | ------- | ------ | --------- | ---------- | --- | -------------- |
| RFC к Upstream/issue-трекинг | I    | **A**   | R             | C        | C        | C       | I      | R         | C          | I   | C              |
| Responsible Disclosure канал | I    | I       | I             | I        | **A**    | I       | I      | I         | C          | I   | C              |

---

## Границы ответственности при MIT

* **Upstream (MIT):** не несёт гарантий/ответственности; участвует в формате C/I по доброй воле.
* **Downstream:** всегда имеет A по эксплуатации, безопасности, релизам и соответствию.
* Если авторы анонимны, назначается внутренний «proxy steward» (Docs Lead или Platform Lead) для общения с Upstream и ведения форка.

---

## Эскалации и принятие решений

* Конфликт архитектурных решений: **A — CAC/ЦАК**, эскалация к CPTO.
* Блокирующие релизы/инциденты: **A — RelMgr/SRE Lead**, эскалация к CPTO.
* Критические вопросы безопасности: **A — Sec Lead**, немедленная эскалация к CPTO и Legal/Comp.

---

## Контакты

* Security: `security@<org>` — **A: Sec Lead**
* Releases: `releases@<org>` — **A: RelMgr**
* Docs/DevRel: `docs@<org>` — **A: Docs Lead**
* Architecture: `arch@<org>` — **A: CAC/ЦАК**
* Operations: `sre@<org>` — **A: SRE Lead**

---

## Актуализация документа

* Ответственный за документ: **Docs Lead (A)**, редакторы: **CAC/ЦАК, Sec Lead, SRE Lead (C)**.
* Изменения — через короткий RFC с пометками RACI-диффов; версия и дата фиксации в шапке.

---

## Критерий приёмки

* У каждой активности есть минимум один **R** и ровно один **A**.
* Нет незаполненных ролей в строках базовых зон (1–10).
* Upstream фигурирует только как **C/I**; операционная **A** всегда назначена внутри организации.
